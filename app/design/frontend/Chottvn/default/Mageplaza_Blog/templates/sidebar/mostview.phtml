<?php
/**
 * Mageplaza
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Mageplaza.com license that is
 * available through the world-wide-web at this URL:
 * https://www.mageplaza.com/LICENSE.txt
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade this extension to newer
 * version in the future.
 *
 * @category    Mageplaza
 * @package     Mageplaza_Blog
 * @copyright   Copyright (c) 2018 Mageplaza (http://www.mageplaza.com/)
 * @license     https://www.mageplaza.com/LICENSE.txt
 */

/** @var \Mageplaza\Blog\Block\Sidebar\MostView $block */
?>
<?php
    $posts       = $block->getMostViewPosts();
    $postsRecent = $block->getRecentPost();
    $url_main    = $block->getUrl(); 
?>

<div class="mp-sidebar product info detailed">
    <!-- Pho Bien -->
    <!-- <div class="product data items">
        <div class="block-mp-sidebar-heading">
            <span class="title"><?php echo __('Popular') ?></span>
        </div>
        <?php if ($posts->getSize()): ?>
            <div class="side-content-wrapper row">
                <div class="col-md-12 col-sm-6">
                    <div class="row">
                        <div class="main-item col-md-12">
                            <div class="card bg-white text-dark card-text-bottom post-thumb sidebar-bottom-box">
                                <?php foreach ($posts as $key => $post): ?>
                                    <a href="<?php echo $post->getUrl() ?>" class="thumb-zoom" title="<?php echo $post->getName() ?>">
                                     
                                        <img title="<?php echo $post->getName() ?>" src="<?php echo $block->resizeImage($post->getImage());  ?>" alt="<?php echo $post->getName() ?>" class="card-img img-fluid border-big-image">
                                    </a>
                                    <div class="card-img-overlay">
                                        <h5 class="card-title card-title-sidebar">
                                            <a class="block-with-text-title" href="<?php echo $post->getUrl() ?>" title="<?php echo $post->getName() ?>">
                                                <?php echo $post->getName() ?>
                                            </a>
                                        </h5>
                                    </div>
                                    <?php $id = $post->getId(); ?>
                                    <?php break; ?>
                                <?php endforeach; ?>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-12 col-sm-6">
                    <?php foreach ($posts as $key => $post): ?>
                        <?php if ($post->getId() != $id): ?>
                            <div class="row">
                                <div class="card-horizontal">
                                    <div class="c-display-flex">
                                        <div class="col-6 flex-left">
                                            <div class="post-thumb">
                                                <a href="<?php echo $post->getUrl() ?>" class="thumb-zoom" title="<?php echo $post->getName() ?>">
                                                    <img class="card-img-top border-small-image" src="<?php echo $block->resizeImage($post->getImage());  ?>" title="<?php echo $post->getName() ?>" alt="<?php echo $post->getName() ?>">
                                                </a>
                                            </div>
                                        </div>
                                        <div class="col-6 flex-right">
                                            <div class="card-body">
                                                <h5 class="card-title">
                                                    <a class="c-post-title-small block-with-text-title" href="<?php echo $post->getUrl() ?>" title="<?php echo $post->getName() ?>">
                                                        <?php echo $post->getName() ?>
                                                    </a>
                                                </h5>
                                                <h6 class="card-subtitle text-muted">
                                                    <?php echo $post->getPublishDate() ? $block->getDateFormat($post->getPublishDate()) : ''; ?>
                                                </h6>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        <?php endif; ?>
                    <?php endforeach; ?>
                </div>
            </div>
        <?php else: ?>
            <div class="mostview-nopost"><?php echo __('No Posts'); ?></div>
        <?php endif; ?>
    </div> -->
    <!-- Moi Nhat -->
    <?php if ($postsRecent->getSize()): ?>
        <div class="product data items">
            <div class="block-mp-sidebar-heading">
                <span class="title"><?php echo __('Latest') ?></span>
            </div>
            <?php if ($postsRecent->getSize()): ?>
                <div class="side-content-wrapper row">
                    <div class="col-md-12 col-sm-6">
                        <div class="row">
                            <div class="main-item col-md-12">
                                <div class="card bg-white text-dark card-text-bottom post-thumb sidebar-bottom-box">
                                    <?php foreach ($postsRecent as $key => $post): ?>
                                        <a href="<?php echo $post->getUrl() ?>" class="thumb-zoom" title="<?php echo $post->getName() ?>">
                                            <img title="<?php echo $post->getName() ?>" src="<?php echo $block->resizeImage($post->getImage()); ?>" alt="<?php echo $post->getName() ?>" class="card-img img-fluid border-big-image">
                                        </a>
                                        <div class="card-img-overlay">
                                            <h5 class="card-title card-title-sidebar">
                                                <a class="block-with-text-title" href="<?php echo $post->getUrl() ?>" title="<?php echo $post->getName() ?>">
                                                    <?php echo $post->getName() ?>
                                                </a>
                                            </h5>
                                        </div>
                                        <?php $id = $post->getId(); ?>
                                        <?php break; ?>
                                    <?php endforeach; ?>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12 col-sm-6">
                    <!-- BEGIN: News item -->
                        <?php foreach ($postsRecent as $key => $post): ?>
                            <?php if ($post->getId() != $id): ?>
                                <div class="row">
                                    <div class="card-horizontal">
                                        <div class="c-display-flex">
                                            <div class="col-6 flex-left">
                                                <div class="post-thumb">
                                                    <a href="<?php echo $post->getUrl() ?>" class="thumb-zoom" title="<?php echo $post->getName() ?>">
                                                        <img class="card-img-top border-small-image" src="<?php echo $block->resizeImage($post->getImage());  ?>" title="<?php echo $post->getName() ?>" alt="<?php echo $post->getName() ?>">
                                                    </a>
                                                </div>
                                            </div>
                                            <div class="col-6 flex-right">
                                                <div class="card-body">
                                                    <h5 class="card-title">
                                                        <a class="c-post-title-small block-with-text-title" href="<?php echo $post->getUrl() ?>" title="<?php echo $post->getName() ?>">
                                                            <?php echo $post->getName() ?>
                                                        </a>
                                                    </h5>
                                                    <h6 class="card-subtitle text-muted">
                                                        <?php echo $post->getPublishDate() ? $block->getDateFormat($post->getPublishDate()) : ''; ?>
                                                    </h6>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            <?php endif; ?>
                        <?php endforeach; ?>
                    <!-- END: News item -->
                    </div>
                </div>
            <?php else: ?>
                <div class="mostview-nopost"><?php echo __('No Posts'); ?></div>
            <?php endif; ?>
        </div>
    <?php endif; ?>
</div>
