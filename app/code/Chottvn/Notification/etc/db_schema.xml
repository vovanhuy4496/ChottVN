<?xml version="1.0"?>
<schema xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="urn:magento:framework:Setup/Declaration/Schema/etc/schema.xsd">
    <table name="chottvn_notification_messagetype">
        <column xsi:type="int" name="id" identity="true" unsigned="true" nullable="false" comment="Id"/>
        <column xsi:type="varchar" name="name" nullable="true" length="1000" comment="Name Message Type"/>
        <column xsi:type="text" name="description" nullable="true" comment="Description Message Type"/>
        <column xsi:type="varchar" name="code" nullable="true" length="255" comment="Code Message Type"/>
        <column xsi:type="int" name="status" unsigned="true" nullable="true" comment="{1: active, 0: inactive}"/>
        <column xsi:type="text" name="configuration" nullable="true"  comment="JSON string"/>
        <column xsi:type="timestamp" name="created_at" nullable="true" comment="Create Date"/>
        <column xsi:type="timestamp" name="updated_at" nullable="true" comment="Update Date"/>
        <column xsi:type="timestamp" name="deleted_at" nullable="true" comment="Delete Date"/>
        <constraint xsi:type="primary" referenceId="PRIMARY">
            <column name="id"/>
        </constraint>
    </table>
    <table name="chottvn_notification_message">
        <column xsi:type="int" name="id" identity="true" unsigned="true" nullable="false" comment="Id"/>
        <column xsi:type="int" name="messagetype_id" nullable="true" comment="Name Message Type"/>
        <column xsi:type="int" name="created_by" nullable="true" comment="Created By (Staff ID | 0 - auto generate)"/>
        <column xsi:type="varchar" name="customer_group_ids" onCreate="migrateDataFrom(customer_group_id)" nullable="true" length="255" comment="Customer Group IDs"/>
        <column xsi:type="varchar" name="title" nullable="true" length="1000" comment="Title Notifications"/>
        <column xsi:type="text" name="description" nullable="true" comment="Content Notifications"/>
        <column xsi:type="text" name="content_email" nullable="true" comment="Content Email"/>
        <column xsi:type="varchar" name="image" nullable="true" length="255" comment="Image"/>
        <column xsi:type="varchar" name="taget_url" nullable="true" length="1000" comment="Open Url"/>
        <column xsi:type="text" name="note" nullable="true" comment="Note Notifications"/>
        <column xsi:type="int" name="is_send_email" unsigned="true" nullable="true" comment="{1: send, 0: unsend}"/>
        <column xsi:type="timestamp" name="started_at" nullable="true" comment="Start Date"/>
        <column xsi:type="timestamp" name="created_at" nullable="true" comment="Create Date"/>
        <column xsi:type="timestamp" name="updated_at" nullable="true" comment="Update Date"/>
        <column xsi:type="timestamp" name="deleted_at" nullable="true" comment="Delete Date"/>
        <constraint xsi:type="primary" referenceId="PRIMARY">
            <column name="id"/>
        </constraint>
    </table>
    <table name="chottvn_notification_delivery">
        <column xsi:type="int" name="id" identity="true" unsigned="true" nullable="false" comment="Id"/>
        <column xsi:type="int" name="message_id" nullable="true" comment="Message Id"/>
        <column xsi:type="int" name="customer_id" nullable="true" comment="Customer Id"/>
        <column xsi:type="timestamp" name="read_at" nullable="true" comment="Read At (null  - no read  yet)"/>
        <column xsi:type="int" name="read_count" nullable="true" comment="Read Count"/>
        <column xsi:type="varchar" name="customer_email" nullable="true" length="255" comment="Customer Email"/>
        <column xsi:type="timestamp" name="created_at" nullable="true" comment="Create Date"/>
        <column xsi:type="timestamp" name="updated_at" nullable="true" comment="Update Date"/>
        <constraint xsi:type="primary" referenceId="PRIMARY">
            <column name="id"/>
        </constraint>
    </table>
</schema>